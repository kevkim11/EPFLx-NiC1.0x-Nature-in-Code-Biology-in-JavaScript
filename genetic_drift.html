<!DCOTYPE html>
<html>
	<head>
		<script type="text/javascript">
			var p = 0.5;  // allele frequency
			var q = 1 - p; // allele frequncy 
			var N = 1000; // population
			var generation = 1000;

			function next_generation(){
				/*
					Genetic function for genetic drift in the next generation. 
				*/
				var draws = 2 * N;
				var a1 = 0;
				var a2 = 0;
				for (var i=0; i<draws; i+=1){
					if (Math.random() <= p){
						a1+=1;
					}
					else {
						a2+=1;
					}
				}
				p = a1/draws;

			}

			function round_number(value, decimals){
				var shifter = Math.pow(10, decimals);
				return Math.round(value*shifter) / shifter;
			}

			for (var i=0; i<generation; i=i + 1){
				next_generation();
				console.log("generation" + i, round_number(p, 4), round_number(1-p, 4));
			}



		</script>
	</head>
	<body>
	</body>
</html>